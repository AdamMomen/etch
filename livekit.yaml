# LiveKit Server Configuration
# Auto-generated for one-click Coolify deployment

port: 7880
bind_addresses:
  - "0.0.0.0"

rtc:
  # TCP fallback for restrictive networks
  tcp_port: 7881

  # UDP mux - all WebRTC UDP on single port
  udp_port: 7882

  # Auto-detect public IP via STUN
  use_external_ip: true

  # Use ICE Lite mode (server only provides candidates)
  use_ice_lite: true

# Redis for scalability (optional but recommended)
redis:
  address: redis:6379

# Room settings
room:
  # Auto-create rooms
  auto_create: true

  # Empty rooms timeout after 5 minutes
  empty_timeout: 300

  # Max participants per room (adjust as needed)
  max_participants: 50

# Logging
logging:
  level: info
  # Enable for debugging
  # level: debug

  sample: false

# API keys loaded from environment variable
# LIVEKIT_KEYS format: "APIKey: secret"

# WebHooks (optional - configure if you want events)
# webhook:
#   api_key: ${LIVEKIT_API_KEY}
#   urls:
#     - http://app:3000/webhooks/livekit

# TURN disabled - using UDP mux on rtc.udp_port instead
turn:
  enabled: false

# Signal relay (for better connectivity)
signal_relay:
  # Retry failed connections
  retry_timeout: 15s
