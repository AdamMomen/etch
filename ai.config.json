{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "NAMELESS AI Configuration",
  "description": "Configuration for AI-assisted development on the NAMELESS meeting platform",
  "version": "1.0.0",
  "project": {
    "name": "NAMELESS",
    "description": "Self-hosted, open-source meeting platform with real-time screen annotations",
    "type": "meeting-platform",
    "license": "Apache 2.0",
    "version": "1.0.0"
  },
  "techStack": {
    "desktopClient": {
      "framework": "Electron",
      "ui": "React",
      "language": "TypeScript",
      "platforms": [
        "macOS",
        "Windows"
      ]
    },
    "mediaBackend": {
      "technology": "LiveKit SFU",
      "transport": "WebRTC",
      "dataChannel": "LiveKit DataTracks",
      "deployment": "self-hosted or LiveKit Cloud"
    },
    "appServer": {
      "options": [
        "Node.js"
      ],
      "responsibilities": [
        "authentication",
        "session management",
        "LiveKit token issuance",
        "room management",
        "role-based policy enforcement"
      ]
    },
    "future": {
      "nativeOverlay": "Rust/Swift/C++",
      "purpose": "OS-level overlay and capture optimization"
    }
  },
  "ai": {
    "rules": {
      "codeGeneration": {
        "preferredLanguage": "TypeScript",
        "framework": "Electron + React",
        "patterns": [
          "modular",
          "functional",
          "event-driven",
          "separation-of-concerns"
        ],
        "architecture": {
          "principle": "Separate media transport from annotation logic",
          "rendering": "Decentralized - each client renders locally",
          "dataFormat": "Vector events, not pixel data"
        }
      },
      "testing": {
        "required": true,
        "coverageThreshold": 80,
        "frameworks": []
      },
      "documentation": {
        "required": true,
        "format": "JSDoc",
        "includeExamples": true
      }
    },
    "constraints": {
      "security": {
        "noHardcodedSecrets": true,
        "validateInputs": true,
        "sanitizeOutputs": true
      },
      "performance": {
        "optimizeRealTime": true,
        "annotationLatencyTarget": "< 200ms",
        "maxParticipants": "10-20 per room",
        "bundleSizeLimit": null,
        "lazyLoad": true,
        "prioritizeLatency": true
      },
      "accessibility": {
        "wcagLevel": "AA",
        "keyboardNavigation": true,
        "screenReaderSupport": true
      }
    },
    "preferences": {
      "codeStyle": {
        "indentation": 2,
        "quotes": "single",
        "semicolons": true,
        "trailingCommas": true
      },
      "architecture": {
        "preferComposition": true,
        "useDesignPatterns": true,
        "separationOfConcerns": true
      }
    }
  },
  "features": {
    "meeting": {
      "realTime": true,
      "recordings": false,
      "transcriptions": false,
      "screenShare": true,
      "audioVideo": true,
      "annotations": {
        "enabled": true,
        "types": [
          "draw",
          "highlight",
          "basic-shapes"
        ],
        "collaborative": true,
        "protocol": "LiveKit DataTracks",
        "coordinateSystem": "normalized [0,1]",
        "eventTypes": [
          "stroke_add",
          "stroke_end",
          "stroke_delete",
          "clear_all",
          "sync_request",
          "sync_state"
        ]
      }
    },
    "platform": {
      "multiTenant": false,
      "selfHostable": true,
      "authentication": "required",
      "authorization": "role-based",
      "roles": {
        "host": {
          "capabilities": [
            "enable/disable annotations",
            "clear all strokes",
            "manage users"
          ]
        },
        "sharer": {
          "capabilities": [
            "share screen",
            "delete any stroke"
          ]
        },
        "annotator": {
          "capabilities": [
            "create strokes",
            "delete own strokes"
          ]
        },
        "viewer": {
          "capabilities": [
            "view only"
          ]
        }
      }
    },
    "nonGoals": {
      "v1": [
        "PSTN/phone dial-in",
        "Browser annotation tools (view-only web is fine)",
        "OS-level ink overlays",
        "Complex shapes/whiteboards",
        "Recording & replay"
      ]
    }
  },
  "integrations": {
    "livekit": {
      "required": true,
      "purpose": "SFU for media + DataTracks for annotations",
      "license": "Apache 2.0"
    },
    "storage": [],
    "messaging": []
  },
  "development": {
    "phases": {
      "v1": {
        "duration": "4 weeks",
        "scope": [
          "Self-hosted LiveKit instance",
          "Electron desktop app",
          "Screen sharing and video",
          "Annotation canvas overlay",
          "Basic roles and permissions",
          "DataTrack sync (stroke_add, stroke_end, stroke_delete, clear_all, sync_state)"
        ]
      },
      "v2": {
        "duration": "4-6 weeks",
        "scope": [
          "Undo/redo",
          "Cursor indicators",
          "Persistent session state",
          "Role-based UI enhancements"
        ]
      },
      "future": {
        "scope": [
          "Native overlay helper",
          "Recording and replay",
          "Advanced tools (rectangles, arrows, text)",
          "Org features (SSO, teams)",
          "Web annotation client"
        ]
      }
    }
  }
}