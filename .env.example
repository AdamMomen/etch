# Etch Environment Configuration
# Copy this file to .env and fill in your values

# ===========================
# Application Settings
# ===========================

# The public URL where your app is accessible
# Used for generating invite links and webhooks
APP_URL=http://localhost:3000

# Port for the application server
APP_PORT=3000

# Node environment (development, production)
NODE_ENV=development

# ===========================
# LiveKit Configuration
# ===========================

# LiveKit API credentials
# For Docker deployment, these are auto-generated
# For manual deployment, get these from your LiveKit instance
LIVEKIT_API_KEY=your-livekit-api-key
LIVEKIT_API_SECRET=your-livekit-api-secret

# LiveKit WebSocket URL
# Internal (Docker): ws://livekit:7880
# External: wss://your-livekit-domain.com
LIVEKIT_WS_URL=ws://localhost:7880

# LiveKit HTTP URL (for REST API calls)
LIVEKIT_HTTP_URL=http://localhost:7880

# Public LiveKit URL (optional, for external clients)
# Only needed if clients connect directly to LiveKit
# LIVEKIT_PUBLIC_URL=wss://livekit.yourdomain.com

# ===========================
# Database Configuration
# ===========================

# Database connection string
# SQLite (default): sqlite:///app/data/etch.db
# PostgreSQL: postgresql://user:password@host:5432/dbname
# MySQL: mysql://user:password@host:3306/dbname
DATABASE_URL=sqlite:///app/data/etch.db

# ===========================
# Redis Configuration
# ===========================

# Redis connection URL
# Used by LiveKit for scalability
REDIS_URL=redis://localhost:6379

# ===========================
# Security & Authentication
# ===========================

# JWT secret for session tokens (generate a random string)
# JWT_SECRET=your-super-secret-jwt-key

# Session expiry in seconds (default: 24 hours)
# SESSION_EXPIRY=86400

# ===========================
# Docker-specific Settings
# ===========================

# Path to auto-generated API keys (Docker only)
CONFIG_PATH=/livekit-config/api-keys.env

# LiveKit node IP for WebRTC media
# Local development: Set to 127.0.0.1 so browser can reach media ports
# Production: Leave empty for auto-detection
NODE_IP=127.0.0.1

# ===========================
# Logging & Monitoring
# ===========================

# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Enable request logging
# ENABLE_REQUEST_LOGGING=true

# ===========================
# Feature Flags
# ===========================

# Enable/disable specific features
# ENABLE_SCREEN_SHARING=true
# ENABLE_ANNOTATIONS=true
# ENABLE_RECORDING=false
# MAX_PARTICIPANTS_PER_ROOM=50

# ===========================
# Development Settings
# ===========================

# CORS origins (comma-separated)
# In production, set to your domain
# CORS_ORIGINS=https://yourdomain.com,https://www.yourdomain.com

# Vite API URL (for client development)
# VITE_API_URL=http://localhost:3001/api

# ===========================
# Optional: Webhooks
# ===========================

# LiveKit webhook endpoint (for room events)
# LIVEKIT_WEBHOOK_URL=http://app:3000/webhooks/livekit

# Webhook secret for verifying LiveKit events
# LIVEKIT_WEBHOOK_SECRET=your-webhook-secret

# ===========================
# Optional: Email/Notifications
# ===========================

# SMTP settings for email notifications
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# SMTP_FROM=noreply@yourdomain.com

# ===========================
# Optional: Storage
# ===========================

# S3-compatible storage for recordings
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_BUCKET=etch-recordings
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
# S3_REGION=us-east-1
